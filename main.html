<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar System Date Picker</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
            font-family: 'Arial', sans-serif;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .solar-system {
            position: relative;
            width: 500px;
            height: 500px;
            margin: 50px auto;
            z-index: 10;
        }

        .orbit {
            position: absolute;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            height: 400px;
        }

        .sun {
            position: absolute;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #ffeb3b 0%, #ff9800 50%, #f44336 100%);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 
                0 0 30px #ffeb3b,
                0 0 60px #ff9800,
                0 0 90px #f44336;
            animation: pulse 2s ease-in-out infinite;
            z-index: 5;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.05); }
        }

        .earth-container {
            position: absolute;
            width: 400px;
            height: 400px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            cursor: grab;
        }

        .earth-container:active {
            cursor: grabbing;
        }

        .earth {
            position: absolute;
            width: 30px;
            height: 30px;
            background: linear-gradient(45deg, #4CAF50 0%, #2196F3 50%, #4CAF50 100%);
            border-radius: 50%;
            top: -15px;
            left: 185px;
            box-shadow: 
                inset -5px -5px 10px rgba(0,0,0,0.3),
                0 0 20px rgba(76, 175, 80, 0.3);
            animation: earthRotate 10s linear infinite;
        }

        @keyframes earthRotate {
            0% { background: linear-gradient(45deg, #4CAF50 0%, #2196F3 50%, #4CAF50 100%); }
            25% { background: linear-gradient(135deg, #2196F3 0%, #4CAF50 50%, #8B4513 100%); }
            50% { background: linear-gradient(225deg, #8B4513 0%, #2196F3 50%, #4CAF50 100%); }
            75% { background: linear-gradient(315deg, #4CAF50 0%, #8B4513 50%, #2196F3 100%); }
            100% { background: linear-gradient(45deg, #4CAF50 0%, #2196F3 50%, #4CAF50 100%); }
        }

        .date-display {
            text-align: center;
            margin-top: 30px;
            z-index: 10;
            position: relative;
        }

        .current-date {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        .date-info {
            font-size: 1.2em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .instructions {
            text-align: center;
            margin-top: 20px;
            font-size: 1.1em;
            opacity: 0.7;
            max-width: 500px;
            line-height: 1.6;
        }

        .month-markers {
            position: absolute;
            width: 450px;
            height: 450px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }

        .month-marker {
            position: absolute;
            width: 4px;
            height: 20px;
            background: rgba(255, 255, 255, 0.3);
            top: -10px;
            left: 50%;
            transform-origin: 2px 235px;
            border-radius: 2px;
        }

        .month-label {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translate(-50%, 0);
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <div class="solar-system">
        <div class="orbit"></div>
        <div class="month-markers" id="monthMarkers"></div>
        <div class="sun"></div>
        <div class="earth-container" id="earthContainer">
            <div class="earth" id="earth"></div>
        </div>
    </div>

    <div class="date-display">
        <div class="current-date" id="currentDate">June 25, 2025</div>
        <div class="date-info" id="dayOfWeek">Wednesday</div>
        <div class="date-info" id="dayOfYear">Day 176 of 2025</div>
    </div>

    <div class="instructions">
        Drag Earth around the Sun to change the date. One complete revolution equals one year. 
        Smaller movements adjust months and days accordingly.
    </div>

    <script>
        // Create stars
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 200; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = Math.random() * 3 + 1 + 'px';
                star.style.height = star.style.width;
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        // Create month markers
        function createMonthMarkers() {
            const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 
                               'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            const container = document.getElementById('monthMarkers');
            
            for (let i = 0; i < 12; i++) {
                const marker = document.createElement('div');
                marker.className = 'month-marker';
                marker.style.transform = `rotate(${i * 30}deg)`;
                
                const label = document.createElement('div');
                label.className = 'month-label';
                label.textContent = monthNames[i];
                label.style.transform = `rotate(${-i * 30}deg)`;
                marker.appendChild(label);
                
                container.appendChild(marker);
            }
        }

        // Date calculation functions
        let totalRevolutions = 0;
        let lastAngle = 172.6; // Starting at June 25

        function isLeapYear(year) {
            return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);
        }

        function getDaysInYear(year) {
            return isLeapYear(year) ? 366 : 365;
        }

        function angleToDate(angle) {
            // Normalize angle to 0-360
            angle = ((angle % 360) + 360) % 360;
            
            // Track when we cross January 1st (0 degrees)
            const angleDiff = angle - lastAngle;
            
            // Detect crossing 0/360 boundary (January 1st)
            if (angleDiff < -180) {
                // Crossed from high angle to low angle (forward through Jan 1)
                totalRevolutions++;
            } else if (angleDiff > 180) {
                // Crossed from low angle to high angle (backward through Jan 1)
                totalRevolutions--;
            }
            
            lastAngle = angle;
            
            // Calculate year based on revolutions from 2025
            const year = 2025 + totalRevolutions;
            const daysInYear = getDaysInYear(year);
            
            // Calculate day of year from angle
            const daysPerDegree = daysInYear / 360;
            let dayOfYear = Math.round((angle * daysPerDegree) + 1);
            
            // Ensure dayOfYear is within valid range
            if (dayOfYear > daysInYear) {
                dayOfYear = daysInYear;
            }
            if (dayOfYear < 1) {
                dayOfYear = 1;
            }
            
            return {
                dayOfYear: dayOfYear,
                year: year,
                daysInYear: daysInYear
            };
        }

        function dayOfYearToDate(dayOfYear, year) {
            const date = new Date(year, 0, dayOfYear);
            return date;
        }

        function formatDate(date) {
            const options = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            return date.toLocaleDateString('en-US', options);
        }

        function getDayOfWeek(date) {
            const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            return days[date.getDay()];
        }

        function updateDateDisplay(angle) {
            const dateResult = angleToDate(angle);
            const date = dayOfYearToDate(dateResult.dayOfYear, dateResult.year);
            
            document.getElementById('currentDate').textContent = formatDate(date);
            document.getElementById('dayOfWeek').textContent = getDayOfWeek(date);
            document.getElementById('dayOfYear').textContent = `Day ${dateResult.dayOfYear} of ${dateResult.daysInYear} (${dateResult.year})`;
        }

        // Initialize
        let isDragging = false;
        // June 25 is day 176, so angle = (176-1) * (360/365.25) ≈ 172.6 degrees
        let currentAngle = 172.6; // Start at June 25, 2025
        const earthContainer = document.getElementById('earthContainer');
        const earth = document.getElementById('earth');

        function getAngleFromMouse(event, center) {
            const rect = earthContainer.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            const deltaX = event.clientX - centerX;
            const deltaY = event.clientY - centerY;
            
            return Math.atan2(deltaY, deltaX) * (180 / Math.PI) + 90;
        }

        function updateEarthPosition(angle) {
            currentAngle = angle;
            earthContainer.style.transform = `translate(-50%, -50%) rotate(${angle}deg)`;
            updateDateDisplay(angle);
        }

        // Mouse events
        earthContainer.addEventListener('mousedown', (event) => {
            isDragging = true;
            event.preventDefault();
        });

        document.addEventListener('mousemove', (event) => {
            if (isDragging) {
                const angle = getAngleFromMouse(event);
                updateEarthPosition(angle);
            }
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
        });

        // Touch events for mobile
        earthContainer.addEventListener('touchstart', (event) => {
            isDragging = true;
            event.preventDefault();
        });

        document.addEventListener('touchmove', (event) => {
            if (isDragging) {
                const touch = event.touches[0];
                const angle = getAngleFromMouse(touch);
                updateEarthPosition(angle);
            }
        });

        document.addEventListener('touchend', () => {
            isDragging = false;
        });

        // Initialize the display
        createStars();
        createMonthMarkers();
        updateEarthPosition(172.6); // Start with June 25, 2025
    </script>
</body>
</html>
